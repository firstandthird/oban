/*
  grid

  Less Usage:

    @import "baseline";
    .bl-grid(); //defaults to 12 column with 10px gutter size
    .bl-grid(16, 20px); //16 column with 20px gutter size

  HTML Usage:

    <div class="grid12">
      <div class="column2">Sidebar</div>
      <div class="column10">Content</div>
    </div>

  Offset:

    <div class="grid12">
      <div class="column2 offset2">This content will be offset to the left by 2 columns</div>
    </div>
*/
.bl-grid(@columnCount: 12, @gutterSize: 10px) {

  (~".grid@{columnCount}") {
    .bl-border-box();
    .bl-clearfix();

    [class*=column] {
      float: left;
      .bl-border-box();
      padding: 0 @gutterSize;

      &:first-child {
        padding-left: 0px;
      }
      &:last-child {
        padding-right: 0px;
      }
    }

    .columnLoop (@index) when (@index > 0) {
      (~".column@{index}") { 
        width: @index/@columnCount * 100%;
      }
      (~".offset@{index}") {
        margin-left: @index/@columnCount * 100%;
      }
      .columnLoop(@index - 1);

    }
    .columnLoop (0) {}

    .columnLoop(@columnCount);

  }

  .grid-pad {
    padding: @gutterSize;
  }

}
