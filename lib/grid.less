.oban-grid(@columnCount: 12, @gutterSize: 20px, @prefix: grid) {

  .@{prefix}@{columnCount} {
    .oban-border-box();
    .oban-clearfix();
    margin-left: -@gutterSize;

    [class*=column] {
      float: left;
      .oban-border-box();
      padding: 0 0 0 @gutterSize;

    }

    .columnLoop (@index) when (@index > 0) {
      .column@{index} { 
        width: @index/@columnCount * 100%;
      }
      .offset@{index} {
        margin-left: @index/@columnCount * 100%;
      }
      .columnLoop(@index - 1);

    }
    .columnLoop (0) {}

    .columnLoop(@columnCount);

  }

  .grid-pad {
    padding: @gutterSize;
  }

}

.oban-grid-fixed(@columnSize: 100px, @gutterSize: 20px) {

  @size: @columnSize + @gutterSize;
  padding-left: @size;

  .column-fixed {
    margin-left: -@size;
    width: @size;
  }
}

.oban-grid-fixed-left(@columnSize, @gutterSize) {
  .oban-grid-fixed(@columnSize, @gutterSize);
}

.oban-grid-fixed-right(@columnSize: 100px, @gutterSize: 20px) {

  @size: @columnSize + @gutterSize;
  padding-right: @size;

  .column-fixed {
    margin-right: -@size;
    width: @size;
  }

}

.oban-grid-debug(@color: red) {

  [class*=column] {
    outline: 1px solid @color;
  }
}
